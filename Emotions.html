<!-- ⚠️ Только внутренняя часть кода, если нужно вставлю всё целиком -->
<style>
  /* 🔹 Изменено: компактнее и невидимые зоны */
  .drop-zone {
    display: inline-block;
    min-width: 90px;
    min-height: 28px;
    border-bottom: 2px dashed #999;
    vertical-align: middle;
    margin: 0 4px;
    text-align: center;
    background-color: transparent;
  }

  .sentence {
    margin-bottom: 12px;
    padding: 8px 12px;
    border-radius: 5px;
  }

  /* ✅ Цвета при проверке */
  .correct {
    background-color: #e0f7e9 !important;
    border-left: 4px solid #28a745;
  }

  .incorrect {
    background-color: #fce4e4 !important;
    border-left: 4px solid #dc3545;
  }

  /* 🧩 Карточка */
  .word {
    padding: 6px 12px;
    background-color: #e0ecff;
    border: 1px solid #1f4e79;
    border-radius: 8px;
    cursor: grab;
    user-select: none;
    font-size: 1em;
    min-width: 80px;
    text-align: center;
    margin-bottom: 4px;
  }

  .word-bank {
    display: flex;
    flex-wrap: wrap;
    gap: 10px;
    margin-bottom: 25px;
  }
</style>

<script>
  const wordBank = document.getElementById("wordBank");

  // Обновим drop-зоны: если уже есть слово — вернуть его обратно в банк
  function drop(e) {
    e.preventDefault();
    const wordText = e.dataTransfer.getData("text/plain");

    const dropTarget = e.target;
    if (!dropTarget.classList.contains("drop-zone")) return;

    const existing = dropTarget.querySelector(".word");
    if (existing) wordBank.appendChild(existing); // вернуть прежнее слово

    const dragged = [...document.querySelectorAll(".word")]
      .find(w => w.innerText === wordText);

    if (dragged) dropTarget.innerHTML = '', dropTarget.appendChild(dragged);
  }

  // Позволяем вернуть карточку обратно
  wordBank.ondragover = event => event.preventDefault();
  wordBank.ondrop = e => {
    e.preventDefault();
    const wordText = e.dataTransfer.getData("text/plain");
    const dragged = [...document.querySelectorAll(".word")]
      .find(w => w.innerText === wordText);
    if (dragged) wordBank.appendChild(dragged);
  };

  // Drag start
  document.querySelectorAll(".word").forEach(word => {
    word.addEventListener("dragstart", e => {
      e.dataTransfer.setData("text/plain", e.target.innerText);
    });
  });

  function checkAnswers() {
    const zones = document.querySelectorAll(".drop-zone");

    zones.forEach(zone => {
      const sentence = zone.closest(".sentence");
      const correct = sentence.dataset.answer;
      const word = zone.querySelector(".word");
      sentence.classList.remove("correct", "incorrect");

      if (word && word.innerText.toLowerCase() === correct) {
        sentence.classList.add("correct");
      } else {
        sentence.classList.add("incorrect");
      }
    });
  }
</script>
