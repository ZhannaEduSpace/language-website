<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Drag & Drop Emotions</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <style>
    body {
      font-family: Arial, sans-serif;
      padding: 20px;
      background-color: #f4f4f4;
    }

    h2 {
      color: #1f4e79;
    }

    .word-bank {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      padding: 10px;
      background-color: #e8f0fa;
      border-radius: 8px;
      margin-bottom: 25px;
      min-height: 60px;
    }

    .word {
      padding: 6px 12px;
      background-color: #e0ecff;
      border: 1px solid #1f4e79;
      border-radius: 8px;
      cursor: grab;
      user-select: none;
      font-size: 1em;
      min-width: 80px;
      text-align: center;
    }

    .sentence {
      background-color: #fff;
      border-radius: 6px;
      padding: 10px 14px;
      margin-bottom: 10px;
      transition: background-color 0.3s;
    }

    .drop-zone {
      display: inline-block;
      min-width: 90px;
      min-height: 28px;
      border-bottom: 2px dashed #888;
      vertical-align: middle;
      margin: 0 4px;
      text-align: center;
      background-color: transparent;
    }

    .drop-zone.over {
      background-color: #d9eaff;
    }

    .correct {
      background-color: #e0f7e9 !important;
      border-left: 4px solid #28a745;
    }

    .incorrect {
      background-color: #fce4e4 !important;
      border-left: 4px solid #dc3545;
    }

    button {
      margin-top: 20px;
      padding: 10px 20px;
      font-size: 1em;
      background-color: #1f4e79;
      color: white;
      border: none;
      border-radius: 6px;
      cursor: pointer;
    }

    button:hover {
      background-color: #163d5c;
    }
  </style>
</head>
<body>

  <h2>😊 Fill in the blanks with the correct emotion</h2>

  <div class="word-bank" id="wordBank">
    <div class="word" draggable="true">anxious</div>
    <div class="word" draggable="true">relieved</div>
    <div class="word" draggable="true">excited</div>
    <div class="word" draggable="true">confident</div>
    <div class="word" draggable="true">frustrated</div>
    <div class="word" draggable="true">upset</div>
    <div class="word" draggable="true">proud</div>
    <div class="word" draggable="true">surprised</div>
  </div>

  <div class="sentence" data-answer="surprised">He was <span class="drop-zone" ondragover="allowDrop(event)" ondrop="drop(event)"></span> to see his childhood friend at the party.</div>
  <div class="sentence" data-answer="relieved">I'm <span class="drop-zone" ondragover="allowDrop(event)" ondrop="drop(event)"></span> that I passed the driving test.</div>
  <div class="sentence" data-answer="anxious">She felt <span class="drop-zone" ondragover="allowDrop(event)" ondrop="drop(event)"></span> before giving her first presentation.</div>
  <div class="sentence" data-answer="upset">We were <span class="drop-zone" ondragover="allowDrop(event)" ondrop="drop(event)"></span> when our team lost the final game.</div>
  <div class="sentence" data-answer="frustrated">She was <span class="drop-zone" ondragover="allowDrop(event)" ondrop="drop(event)"></span> because the website kept crashing during the application process.</div>
  <div class="sentence" data-answer="confident">After weeks of preparation, I feel <span class="drop-zone" ondragover="allowDrop(event)" ondrop="drop(event)"></span> about the exam.</div>
  <div class="sentence" data-answer="proud">Their parents were very <span class="drop-zone" ondragover="allowDrop(event)" ondrop="drop(event)"></span> of them for winning the competition.</div>
  <div class="sentence" data-answer="excited">The kids are really <span class="drop-zone" ondragover="allowDrop(event)" ondrop="drop(event)"></span> about the school trip tomorrow.</div>

  <button onclick="checkAnswers()">Check Answers</button>

  <script>
    const wordBank = document.getElementById("wordBank");

    document.querySelectorAll(".word").forEach(word => {
      word.addEventListener("dragstart", e => {
        e.dataTransfer.setData("text/plain", e.target.innerText);
      });
    });

    function allowDrop(e) {
      e.preventDefault();
      e.target.classList.add("over");
    }

    function drop(e) {
      e.preventDefault();
      e.target.classList.remove("over");

      const wordText = e.dataTransfer.getData("text/plain");
      const dropTarget = e.target;

      if (!dropTarget.classList.contains("drop-zone")) return;

      // Найти существующее слово и вернуть его в wordBank
      const existing = dropTarget.querySelector(".word");
      if (existing) wordBank.appendChild(existing);

      // Найти перетаскиваемый элемент
      const dragged = [...document.querySelectorAll(".word")].find(w => w.innerText === wordText);
      if (dragged) {
        dropTarget.innerHTML = '';
        dropTarget.appendChild(dragged);
      }
    }

    // Вернуть слово в банк
    wordBank.ondragover = allowDrop;
    wordBank.ondrop = function(e) {
      e.preventDefault();
      const wordText = e.dataTransfer.getData("text/plain");
      const dragged = [...document.querySelectorAll(".word")].find(w => w.innerText === wordText);

      // Удалить из старой зоны
      const parentZone = dragged?.parentElement;
      if (parentZone && parentZone.classList.contains("drop-zone")) {
        parentZone.innerHTML = '';
      }

      if (dragged && !wordBank.contains(dragged)) {
        wordBank.appendChild(dragged);
      }
    };

    function checkAnswers() {
      const zones = document.querySelectorAll(".drop-zone");
      zones.forEach(zone => {
        const sentence = zone.closest(".sentence");
        const correct = sentence.dataset.answer;
        const word = zone.querySelector(".word");
        sentence.classList.remove("correct", "incorrect");

        if (word && word.innerText.toLowerCase() === correct) {
          sentence.classList.add("correct");
        } else {
          sentence.classList.add("incorrect");
        }
      });
    }
  </script>

</body>
</html>
